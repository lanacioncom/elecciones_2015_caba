var PermanentLinkJS=function(){"use strict";function a(){return n={},l(),n}function t(a,t){if("object"==typeof a)try{for(var r in a)n[r]=a[r]}catch(e){console.error("Error set query: %s",e.message)}else try{n[a]=t,l()}catch(e){console.error("Error set query: %s",e.message)}return n}function r(a){return a=a||location.hash,a.replace("#","").split("&").map(function(a){return a=a.split("="),this[a[0]]=a[1],this}.bind({}))[0]}function e(){return n=r()}function i(a){return delete n[a],l(),n}function o(a){var t=[];for(var r in a)t.push([r,a[r]].join("="));return t.join("&")}function l(a){a="string"==typeof a?a:o(a||n);try{return location.hash=a}catch(t){console.error("Error set_hash: %s",t.message)}}var n={};this.get_query=function(){return n},this.reset=a,this.get_parameters=r,this.to_string=o,this.set_hash=l,this.set=t,this.kill=i,this.set_from_location=e},ElecionesApp=function(a,t){"use strict";function r(a){$("#selected h4").html(a).fadeIn()}function e(a){var t=a.id.replace(/c/i,""),e="Comuna "+t;r(e),i.remove_comuna_active_path(),i.comuna_active_path=$(a).clone(),i.comuna_active_path.attr("class","comuna_active_path"),$("svg").append(i.comuna_active_path),i.q.set("comuna",t),i.draw_ul_list(i.r_general.comunas["comuna_"+t])}var i=this;i.list_partidos=a,i.r_general=t.general,i.comuna_active_path=null,function(){var a=$('input[type="radio"]');a.on("click.select_condidato",function(){var a=$(this);$("li.active:has(input)").removeClass("active"),a.closest("li").addClass("active"),r(this.value),i.q.set("candidato",this.value)}),$("select#opts").change(function(){i.change_dropdown($(this).val())}),i.tmpl_opts=Handlebars.compile($("#tmpl_opts").html()),$("#opts").html(i.tmpl_opts(i.list_partidos)),i.cont_results=$("#results"),i.tmpl_li_partido=Handlebars.compile($("#tmpl_li_partido").html()),i.draw_ul_list(),i.tooltip=$("#tooltip"),i.tmpl_tooltip=Handlebars.compile($("#tmpl_tooltip").html()),$("polygon").on("click.on_comuna",function(){e(this)}),tooltip()}()};ElecionesApp.prototype.reset=function(){$("#selected h4").hide().html(""),this.draw_ul_list(),this.remove_comuna_active_path(),this.q.kill("comuna")},ElecionesApp.prototype.barios_x_com={c1:"Agronomia, Chacarita, Paternal, Parque Chas, Villa Crespo, Villa Ortuzar.",c2:"Agronomia, Chacarita, Paternal, Parque Chas, Villa Crespo, Villa Ortuzar.",c3:"Agronomia, Chacarita, Paternal, Parque Chas, Villa Crespo, Villa Ortuzar.",c4:"Agronomia, Chacarita, Paternal, Parque Chas, Villa Crespo, Villa Ortuzar.",c5:"Agronomia, Chacarita, Paternal, Parque Chas, Villa Crespo, Villa Ortuzar.",c6:"Agronomia, Chacarita, Paternal, Parque Chas, Villa Crespo, Villa Ortuzar.",c7:"Agronomia, Chacarita, Paternal, Parque Chas, Villa Crespo, Villa Ortuzar.",c8:"Agronomia, Chacarita, Paternal, Parque Chas, Villa Crespo, Villa Ortuzar.",c9:"Agronomia, Chacarita, Paternal, Parque Chas, Villa Crespo, Villa Ortuzar.",c10:"Agronomia, Chacarita, Paternal, Parque Chas, Villa Crespo, Villa Ortuzar.",c11:"Agronomia, Chacarita, Paternal, Parque Chas, Villa Crespo, Villa Ortuzar.",c12:"Agronomia, Chacarita, Paternal, Parque Chas, Villa Crespo, Villa Ortuzar.",c13:"Agronomia, Chacarita, Paternal, Parque Chas, Villa Crespo, Villa Ortuzar.",c14:"Agronomia, Chacarita, Paternal, Parque Chas, Villa Crespo, Villa Ortuzar.",c15:"Agronomia, Chacarita, Paternal, Parque Chas, Villa Crespo, Villa Ortuzar."},ElecionesApp.prototype.draw_ul_list=function(a){a||(a=this.r_general.total),this.cont_results.html(this.tmpl_li_partido(a))},ElecionesApp.prototype.draw_tooltip=function(a){this.tooltip.html(this.tmpl_tooltip(a))},ElecionesApp.prototype.remove_comuna_active_path=function(){this.comuna_active_path&&this.comuna_active_path.remove()},ElecionesApp.prototype.change_dropdown=function(a){var t="x_fuerza";t==a&&this.draw_ul_list(),this.q.set("fuerza",a)},ElecionesApp.prototype.q=new PermanentLinkJS;
function tooltip(){{var e=$("polygon, path");$(".tooltip")}e.on("mouseenter",function(){$el=$(this),ide=$el.attr("id"),app.draw_tooltip({id:ide.replace(/c/i,"")})}),isMobile.any()||e.hover(function(){$(".tooltip").show()},function(){$(".tooltip").hide()}),e.on("mousemove",function(e){e=e||window.event,e=jQuery.event.fix(e);var i=e.pageX-200;e.pageX>185&&750>ancho?i=e.pageX-200:e.pageX<330&&(i=e.pageX),itemY=e.pageY>350&&750>ancho?e.pageY-260:e.pageY>450?e.pageY-260:e.pageY+30,$(".tooltip").animate({top:itemY,left:i},100,"swing").stop(!0,!0)})}var app,ancho=$(window).width(),isMobile={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return isMobile.Android()||isMobile.BlackBerry()||isMobile.iOS()||isMobile.Opera()||isMobile.Windows()}};$(function(){"use strict";$.get("img/caba_ilus.txt",function(e){$.get("data/list_partidos.json",function(i){$.get("data/results_example.json",function(t){$("#mapa_cont").html(e+'<div class="ayuda3">Clicke√° en las comunas para ver los resultados en detalle.</div>'),app=new ElecionesApp(i,t),$("#opts").select2({minimumResultsForSearch:1/0,val:"x_fuerza"})})})}),$("#list, #list_interna").niceScroll({cursorcolor:"#d7d7d7",cursorborder:"0px solid #fff",cursorwidth:"7px",autohidemode:!1,hidecursordelay:0})});
//# sourceMappingURL=../js/all.min.js.map